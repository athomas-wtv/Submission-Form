@page
@model RProjectDetails
@{
    ViewData["Title"] = "Project Details";
}

<h2 class="mb-5">@ViewData["Title"]</h2>

<div class="container mb-2">
    <div class="row">
        <div class="col-md-6">
            <h4>Date & Time</h4><hr>
            <p>@Html.DisplayFor(model => model.Proposal.SubmitDate)</p>
        </div>
        <div class="col-md-6">
            <h4>Project Title</h4><hr>
            @Html.DisplayFor(model => model.Proposal.Title)
        </div>
    </div>
</div>
<div class="container mb-2">
    <div class="row">
        <div class="col">
            <h4>@Html.DisplayNameFor(model => model.Proposal.Description)</h4><hr>
            <p>@Html.DisplayFor(model => model.Proposal.Description)</p>
        </div>
    </div>
</div>

<div class="container mt-3">
    <div class="row">
        <div class="col">
            <h4>Requester Comments</h4><hr>
            <div class="scroll-comments w3-border mb-3 py-2 rounded">
                @foreach(var Comment in Model.RequesterComments)
                {
                    <div class="message to bg-info">
                        <p class="mb-1"><b>@Html.DisplayFor(modelItem => Comment.Commenter)</b></p>
                        <p class="pl-2 mb-1">@Html.DisplayFor(modelItem => Comment.Comment)</p>
                        <p class="CommentSentTime mb-1">Sent at @Html.DisplayFor(modelItem => Comment.DateTime)</p>
                    </div>
                }
            </div>
            <form method="post">
                <input type="hidden" class="form-control" name="ID" value="@Model.Proposal.Id" />
                <input type="text" class="form-control" name="Body" placeholder="Add Comment" />
                <input type="submit" class="btn btn-info btn-sm my-2 float-right" />
            </form>
        </div>
    </div>
</div>

<div>
    <a asp-page="/Requester/Requester">Back to List</a> | 
    <a asp-page="/Requester/CancelRequest" asp-route-id="@Model.Proposal.Id" class="btn text-danger"><i class="fas fa-trash-alt"></i></a>
</div>